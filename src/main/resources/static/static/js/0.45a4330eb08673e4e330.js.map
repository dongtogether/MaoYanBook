{"version":3,"sources":["webpack:///src/components/LoginPage.vue","webpack:///./src/components/LoginPage.vue?69d3","webpack:///./src/components/LoginPage.vue"],"names":["LoginPage","name","data","msg","user","username","password","pwdType","checked","mounted","this","getCookie","methods","doLogin","formName","_this","$refs","validate","valid","console","log","self","$axios","url","method","then","res","code","$router","push","params","pwd","setCookie","clearCookie","$message","message","type","catch","err","c_name","c_pwd","exdays","exdate","Date","setTime","getTime","window","document","cookie","toGMTString","length","arr","split","i","arr2","showPwd","e","getElementsByClassName","setAttribute","components_LoginPage","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","staticStyle","width","border-radius","slot","_v","ref","model","label","label-width","prop","placeholder","prefix-icon","clearable","value","callback","$$v","$set","expression","nativeOn","keydown","$event","indexOf","_k","keyCode","key","on","click","background","border","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qGA0CA,IAAAA,GACAC,KAAA,aACAC,KAFA,WAGA,OACAC,IAAA,6BACAC,MACAC,SAAA,GACAC,SAAA,IAEAC,QAAA,WACAC,SAAA,IAKAC,QAfA,WAgBAC,KAAAC,aAEAC,SAEAC,QAFA,SAEAC,GAAA,IAAAC,EAAAL,KACAA,KAAAM,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EAuCA,OADAC,QAAAC,IAAA,mBACA,EAtCA,IAAAC,EAAAN,EACAA,EAAAO,QACAC,IAAA,SACAC,OAAA,OACAtB,MACAG,SAAAU,EAAAX,KAAAC,SACAC,SAAAS,EAAAX,KAAAE,YAEAmB,KAAA,SAAAC,GACA,MAAAA,EAAAxB,KAAAyB,MACAZ,EAAAa,QAAAC,MACA5B,KAAA,UACA6B,QAAA1B,KAAAiB,EAAAjB,KAAAC,SAAA0B,IAAAV,EAAAjB,KAAAE,YAIA,GAAAe,EAAAb,QAEAa,EAAAW,UAAAX,EAAAjB,KAAAC,SAAAgB,EAAAjB,KAAAE,SAAA,IAEAa,QAAAC,IAAA,YAEAC,EAAAY,gBAEA,MAAAP,EAAAxB,KAAAyB,MACAZ,EAAAmB,UACAC,QAAA,UACAC,KAAA,YAKAC,MAAA,SAAAC,GACAnB,QAAAC,IAAAkB,QAYAN,UAlDA,SAkDAO,EAAAC,EAAAC,GACA,IAAAC,EAAA,IAAAC,KACAD,EAAAE,QAAAF,EAAAG,UAAA,MAAAJ,GAEAK,OAAAC,SAAAC,OAAA,YAAAT,EAAA,mBAAAG,EAAAO,cACAH,OAAAC,SAAAC,OAAA,YAAAR,EAAA,mBAAAE,EAAAO,eAGAtC,UA1DA,WA2DA,GAAAoC,SAAAC,OAAAE,OAAA,GAEA,IADA,IAAAC,EAAAJ,SAAAC,OAAAI,MAAA,MACAC,EAAA,EAAAA,EAAAF,EAAAD,OAAAG,IAAA,CACA,IAAAC,EAAAH,EAAAE,GAAAD,MAAA,KAEA,YAAAE,EAAA,GAEA5C,KAAAN,KAAAC,SAAAiD,EAAA,GACA,YAAAA,EAAA,KAEA5C,KAAAN,KAAAE,SAAAgD,EAAA,IAGA5C,KAAAF,SAAA,IAGAyB,YA3EA,WA4EAvB,KAAAsB,UAAA,WAIAuB,QAhFA,WAiFA,aAAA7C,KAAAH,QAAAG,KAAAH,QAAA,GAAAG,KAAAH,QAAA,WACA,IAAAiD,EAAAT,SAAAU,uBAAA,mBACA,IAAA/C,KAAAH,QAAAiD,EAAAE,aAAA,0BAAAF,EAAAE,aAAA,6BC5IeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAnD,KAAaoD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,gBAAmBH,EAAA,OAAYI,YAAA,iBAA2BJ,EAAA,WAAgBK,aAAaC,MAAA,QAAAC,gBAAA,UAAwCP,EAAA,OAAYE,OAAOM,KAAA,UAAgBA,KAAA,WAAeR,EAAA,QAAaI,YAAA,gBAA0BP,EAAAY,GAAA,YAAAZ,EAAAY,GAAA,KAAAT,EAAA,WAA+CU,IAAA,YAAAR,OAAuBS,MAAAd,EAAAzD,QAAkB4D,EAAA,gBAAqBE,OAAOU,MAAA,OAAAC,cAAA,OAAAC,KAAA,cAAuDd,EAAA,YAAiBK,aAAaC,MAAA,SAAgBJ,OAAQa,YAAA,SAAAC,cAAA,eAAAC,UAAA,IAAmEN,OAAQO,MAAArB,EAAAzD,KAAA,SAAA+E,SAAA,SAAAC,GAAmDvB,EAAAwB,KAAAxB,EAAAzD,KAAA,WAAAgF,IAAoCE,WAAA,oBAA6B,GAAAzB,EAAAY,GAAA,KAAAT,EAAA,gBAAqCE,OAAOU,MAAA,MAAAC,cAAA,OAAAC,KAAA,cAAsDd,EAAA,SAAcE,OAAOM,KAAA,SAAeA,KAAA,UAAcX,EAAAY,GAAA,aAAAZ,EAAAY,GAAA,KAAAT,EAAA,YAAiDK,aAAaC,MAAA,SAAgBJ,OAAQ9B,KAAAyB,EAAAtD,QAAAwE,YAAA,QAAAE,UAAA,GAAAD,cAAA,gBAAqFO,UAAWC,QAAA,SAAAC,GAA2B,OAAAA,EAAArD,KAAAsD,QAAA,QAAA7B,EAAA8B,GAAAF,EAAAG,QAAA,WAAAH,EAAAI,IAAA,SAAsF,KAAehC,EAAAhD,QAAA4E,KAA4Bd,OAAQO,MAAArB,EAAAzD,KAAA,SAAA+E,SAAA,SAAAC,GAAmDvB,EAAAwB,KAAAxB,EAAAzD,KAAA,WAAAgF,IAAoCE,WAAA,mBAA6BtB,EAAA,KAAUI,YAAA,eAAAF,OAAkCM,KAAA,UAAgBsB,IAAKC,MAAAlC,EAAAN,SAAoBiB,KAAA,cAAe,GAAAX,EAAAY,GAAA,KAAAT,EAAA,OAA8BI,YAAA,eAAyBJ,EAAA,OAAYI,YAAA,gBAA0BJ,EAAA,eAAoBW,OAAOO,MAAArB,EAAA,QAAAsB,SAAA,SAAAC,GAA6CvB,EAAArD,QAAA4E,GAAgBE,WAAA,aAAuBzB,EAAAY,GAAA,iBAAAZ,EAAAY,GAAA,KAAAT,EAAA,QAAiDI,YAAA,eAAA0B,IAA+BC,MAAAlC,EAAA5B,eAAyB4B,EAAAY,GAAA,aAAAZ,EAAAY,GAAA,KAAAT,EAAA,gBAAAA,EAAA,aAAqEK,aAAaC,MAAA,MAAA0B,WAAA,UAAAC,OAAA,QAAqD/B,OAAQ9B,KAAA,WAAiB0D,IAAKC,MAAA,SAAAN,GAAyB,OAAA5B,EAAAhD,QAAA,iBAAkCgD,EAAAY,GAAA,2BAEn7DyB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErG,EACA2D,GATF,EAVA,SAAA2C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/0.45a4330eb08673e4e330.js","sourcesContent":["<template>\n  <div id=\"login-page\">\n\n    <div class=\"loginContext\">\n      <el-card style=\"width: 400px;border-radius: 15px;\">\n        <div slot=\"header\" >\n          <span class=\"login-title\">系统登录</span>\n        </div>\n        <el-form ref=\"loginform\" :model=\"user\"  >\n          <el-form-item label=\"用户名:\" label-width=\"80px\" prop=\"username\">\n            <el-input v-model=\"user.username\" placeholder=\"请输入用户名\"\n                      style=\"width: 250px\"\n                      prefix-icon=\"el-icon-user\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码:\" label-width=\"80px\" prop=\"password\">\n            <label slot=\"label\">密&nbsp;&nbsp;&nbsp;&nbsp;码:</label>\n            <el-input :type=\"pwdType\" v-model=\"user.password\" placeholder=\"请输入密码\"\n                      clearable\n                      style=\"width: 250px\"\n                      prefix-icon=\"el-icon-lock\"\n                      @keydown.enter.native=\"doLogin\">\n              <!-- @keydown.enter.native=\"doLogin\"当按下enter键的时候也会执行doLogin方法-->\n              <i slot=\"suffix\" class=\"el-icon-view\" @click=\"showPwd\"></i></el-input>\n          </el-form-item>\n          <div class=\"option-box\">\n            <div class=\"left-option\">\n              <el-checkbox v-model=\"checked\">一周内自动登录</el-checkbox>\n            </div>\n            <span class=\"right-option\" @click=\"clearCookie\">忘记密码？</span>\n          </div>\n          <el-form-item>\n            <el-button style=\"width: 80%;background: #505458;border: none\"\n                       type=\"primary\" @click=\"doLogin('loginform')\">登录</el-button>\n          </el-form-item>\n        </el-form>\n      </el-card>\n    </div>\n\n  </div>\n</template>\n\n<script>\n    export default {\n        name: 'HelloWorld',\n        data() {\n            return {\n                msg: 'Welcome to Your Vue.js App',\n                user: {\n                    username: '',\n                    password: '',\n                },\n                pwdType: 'password',\n                checked: false,\n\n            }\n        },\n\n        mounted() {\n            this.getCookie();//页面加载调用获取cookie值\n        },\n        methods: {\n            /*点击登录按钮*/\n            doLogin(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        const self = this;\n                        this.$axios({\n                            url: '/login',\n                            method: 'post',\n                            data: {\n                                username: this.user.username,\n                                password: this.user.password\n                            }\n                        }).then(res => {\n                            if (res.data.code === 200) {\n                                this.$router.push({\n                                    name: 'welcome',\n                                    params: {user: self.user.username, pwd: self.user.password}\n                                });\n\n                                //判断复选框是否被勾选 勾选则调用配置cookie方法\n                                if (self.checked == true) {\n                                    //传入账号名，密码，和保存天数3个参数\n                                    self.setCookie(self.user.username, self.user.password, 7);\n                                } else {\n                                    console.log(\"清空Cookie\");\n                                    //清空Cookie\n                                    self.clearCookie();\n                                }\n                            } else if(res.data.code === 400){\n                                this.$message({\n                                    message: '账号或密码错误',\n                                    type: 'error'\n                                });\n                            }\n\n\n                        }).catch(err => {\n                            console.log(err);\n                        })\n\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                })\n\n            },\n\n            /*设置cookie*/\n            setCookie(c_name, c_pwd, exdays) {\n                var exdate = new Date(); //获取时间\n                exdate.setTime(exdate.getTime() + 24 * 60 * 60 * 1000 * exdays); //保存的天数\n                //字符串拼接cookie\n                window.document.cookie = \"userName\" + \"=\" + c_name + \";path=/;expires=\" + exdate.toGMTString();\n                window.document.cookie = \"passWord\" + \"=\" + c_pwd + \";path=/;expires=\" + exdate.toGMTString();\n            },\n            /*读取cookie*/\n            getCookie() {\n                if (document.cookie.length > 0) {\n                    var arr = document.cookie.split('; '); //这里显示的格式需要切割一下自己可输出看下\n                    for (var i = 0; i < arr.length; i++) {\n                        var arr2 = arr[i].split('='); //再次切割\n                        //判断查找相对应的值\n                        if (arr2[0] == 'userName') {\n                            //  console.log(arr2[1])\n                            this.user.username = arr2[1]; //保存到保存数据的地方\n                        } else if (arr2[0] == 'passWord') {\n                            // console.log(arr2[1])\n                            this.user.password = arr2[1];\n                        }\n                    }\n                    this.checked = true;\n                }\n            },\n            clearCookie() {\n                this.setCookie(\"\", \"\", -1); //修改2值都为空，天数为负1天就好了\n            },\n\n            /*密码显隐表示*/\n            showPwd() {\n                this.pwdType === 'password' ? this.pwdType = '' : this.pwdType = 'password';\n                let e = document.getElementsByClassName('el-icon-view')[0];\n                this.pwdType == '' ? e.setAttribute('style', 'color: #409EFF') : e.setAttribute('style', 'color: #c0c4cc');\n            }\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  #login-page{\n    background:url(\"../assets/img/bg/eva1.jpg\") no-repeat;\n    background-position: center;\n    height: 100%;\n    width: 100%;\n    background-size: cover;\n    position: fixed;\n  }\n\n  .loginContext {\n    display: flex;\n    justify-content: center;\n    margin-top: 150px\n  }\n\n  .login-title{\n    text-align: center;\n    font-size: 22px;\n    color: #505458;\n  }\n\n  .option-box {\n    width: 360px;\n    height: 30px;\n    margin-bottom: 10px;\n  }\n\n  .left-option {\n    margin-left: 20px;\n    float: left;\n  }\n\n  .right-option {\n    float: right;\n    cursor: pointer;\n    color: #f19149;\n    font-size: 0.8rem;\n  }\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/LoginPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login-page\"}},[_c('div',{staticClass:\"loginContext\"},[_c('el-card',{staticStyle:{\"width\":\"400px\",\"border-radius\":\"15px\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"login-title\"},[_vm._v(\"系统登录\")])]),_vm._v(\" \"),_c('el-form',{ref:\"loginform\",attrs:{\"model\":_vm.user}},[_c('el-form-item',{attrs:{\"label\":\"用户名:\",\"label-width\":\"80px\",\"prop\":\"username\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"placeholder\":\"请输入用户名\",\"prefix-icon\":\"el-icon-user\",\"clearable\":\"\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码:\",\"label-width\":\"80px\",\"prop\":\"password\"}},[_c('label',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"密    码:\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"250px\"},attrs:{\"type\":_vm.pwdType,\"placeholder\":\"请输入密码\",\"clearable\":\"\",\"prefix-icon\":\"el-icon-lock\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doLogin($event)}},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}},[_c('i',{staticClass:\"el-icon-view\",attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.showPwd},slot:\"suffix\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"option-box\"},[_c('div',{staticClass:\"left-option\"},[_c('el-checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"一周内自动登录\")])],1),_vm._v(\" \"),_c('span',{staticClass:\"right-option\",on:{\"click\":_vm.clearCookie}},[_vm._v(\"忘记密码？\")])]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"80%\",\"background\":\"#505458\",\"border\":\"none\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.doLogin('loginform')}}},[_vm._v(\"登录\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b9eadb6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LoginPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b9eadb6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LoginPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b9eadb6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoginPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5b9eadb6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoginPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}